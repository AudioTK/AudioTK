
FILE(GLOB
    ATK_IO_TEST_SRC
    *.cpp
)

FILE(GLOB
    ATK_IO_TEST_HEADERS
    *.h
)

if(LIBSNDFILE_FOUND)
  FILE(GLOB_RECURSE
    ATK_IO_LIBSNDFILE_TEST_SRC
    libsndfile/*.cpp
  )

  FILE(GLOB_RECURSE
  ATK_IO_LIBSNDFILE_TEST_HEADERS
    libsndfile/*.h
  )

  LIST(APPEND ATK_IO_TEST_SRC ${ATK_IO_LIBSNDFILE_TEST_SRC})
  LIST(APPEND ATK_IO_TEST_HEADERS ${ATK_IO_LIBSNDFILE_TEST_HEADERS})
endif(LIBSNDFILE_FOUND)

ATK_add_test(ATK_IQ_TEST
  NAME ATKIO_test
  FOLDER IO_test
  TESTNAME IO
  LIBRARIES ATKIO ATKTools ATKMock ATKCore ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY}
  SRC ${ATK_IO_TEST_SRC}
  HEADERS ${ATK_IO_TEST_HEADERS}
)
